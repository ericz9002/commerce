{% extends "auctions/layout.html" %}
{% load static %}
{% load custom_filters %}

{% block extra_links %}
    <link href="{% static 'auctions/listings.css' %}"  rel="stylesheet">
{% endblock %}
{% block body %}
    <h2>Active Listings</h2>
    <ul class = "listings">
        {%for listing in listings%}
        <li>
            <div class = "listing-ele">
                <div class = "listing-header">
                    <div class="listing-title">
                        <h3>{{listing.title}}</h3>
                    </div>
                    <div class="add-to-watchlist">
                        <button>
                            <img src = "{% static 'auctions/green-add.png' %}" class = 'add-icon'>
                            Add to Watchlist
                        </button>
                    </div>
                </div>
                <div class="listing-body">
                    <div class = "listing-image">
                        <img src="{{listing.image}}" alt="image not found">
                    </div>
                    <div class = "listing-info">
                        <div class = "listing-row">
                            <div class="listing-info-label">
                                <h5>Author:</h5>
                            </div>
                            <div class="listing-info-value">
                                <h5>{{listing.creator}}</h5>
                            </div>
                        </div>
                        <div class = "listing-row">
                            <div class="listing-info-label">
                                <h5>Current Bid:</h5>
                            </div>
                            <div class="listing-info-value">
                                <h5>{{listing.price|money_format}}</h5>
                            </div>
                        </div>
                        <div class="listing-row">
                            <div class="listing-info-label">
                                <h5>Posted on:</h5>
                            </div>
                            <div class="listing-info-value">
                                <h5>{{listing.date}}</h5>
                            </div>
                        </div>  
                    </div>
                </div>
            </div>
        </li>
        {%empty%}
        <li>No Active Listings</li>
        {%endfor%}
    </ul>
{% endblock %}